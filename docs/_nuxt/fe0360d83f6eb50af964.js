(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{745:function(t,n,e){"use strict";e.r(n);e(8),e(15),e(50),e(12),e(83);var r=e(0),o=e(144),c={name:"Auction",components:{},props:{name:{type:String,default:function(){return""}},page:{type:Number,default:function(){return 1}},type:{type:String,default:function(){return"card"}},contract:{type:String,default:function(){return""}},tokenIds:{type:Array,default:function(){return[]}}},data:function(){return{inputPage:""}},computed:Object(r.a)({},Object(o.b)(["totalSupply","perPage","tabs"]),{currentTabComponent:function(){return"Auction".concat(this.currentTab)}}),watch:{page:{handler:function(t){0!==this.rows&&(this.currentPage=t,this.calcTokensId())}},type:{handler:function(t){this.currentTab="card"===t?"Card":"List"}},tokensId:{handler:function(){this.updatePartTons()}},partTons:{handler:function(){this.updateTons()}}},mounted:function(){var t=this;this.currentTab="card"===this.type?"Card":"List",this.$store.state.totalSupply.then(function(n){t.rows=n,t.$nextTick(function(){t.currentPage=t.page}),t.calcTokensId()})},methods:{calcTokensId:function(){var t=this.rows-this.perPage*(this.currentPage-1);this.tokensId=[];for(var n=[],i=0;i<this.perPage&&!(t-i<1);i+=1)n.push(t-i);this.tokensId=n},updatePartTons:function(){var t=this;this.partTons=this.tokensId.map(function(n){return{id:n,tokenId:n,imgSrc:t.$tonImg(n),getAuction:t.$contracts[t.contract].methods.getAuction(n).call(),getCurrentPrice:t.$contracts[t.contract].methods.getCurrentPrice(n).call()}})},updateTons:function(){var t=this;this.tonsLoaded=!1,this.tons=this.partTons.map(function(t){return{id:t.id,tokenId:t.tokenId,imgSrc:t.imgSrc}});var n=[];this.partTons.map(function(e,r){var o=e.getCurrentPrice.then(function(n){if(e.id===t.tons[r].id){var o=t.tons.slice();o[r].price=n,t.tons=o}}).catch(function(){(console.log("not in auction",e.id),e.id===t.tons[r].id)&&(t.tons.slice()[r].price="-")}),c=e.getAuction.then(function(n){if(e.id===t.tons[r].id){var o=t.tons.slice();o[r].seller=n.seller,o[r].startingPrice=n.startingPrice,o[r].endingPrice=n.endingPrice,o[r].duration=n.duration,o[r].startedAt=n.startedAt,o[r].shown=!0,t.tons=o}}).catch(function(){if(console.log("not in auction",e.id),e.id===t.tons[r].id){var n=t.tons.slice();n[r].hidden=!0,n[r].seller="-"}});return n.push(o,c),Promise.all(n).then(function(){t.tonsLoaded=!0}),!0})},tabClick:function(t){this.currentTab=t,this.$store.dispatch("doUpdateType",t.toLowerCase()),this.$router.push({name:this.name,params:{type:t.toLowerCase()}})},onPageChange:function(t){this.$router.push({name:this.name,params:{page:t}})},goPage:function(){var t=Number(this.inputPage);this.$router.push({name:this.name,params:{page:t}})}}},d=e(38),l={name:"Breed",components:{Auction:Object(d.a)(c,function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"form-inline float-sm-right"},[e("b-input-group",[e("b-form-input",{attrs:{name:"inputPage",type:"number",placeholder:"Page No."},model:{value:t.inputPage,callback:function(n){t.inputPage=n},expression:"inputPage"}}),e("b-input-group-append",[e("b-button",{attrs:{text:"Go",variant:"primary"},on:{click:t.goPage}},[t._v("Go")])],1)],1)],1),e("b-pagination-nav",{attrs:{"link-gen":t.linkGen,"number-of-pages":Math.ceil(this.totalSupply/this.perPage),value:t.page,limit:"10","use-router":""}}),e("b-nav",{attrs:{tabs:""}},[t._l(t.tabs,function(n){return[e("b-nav-item",{attrs:{active:t.currentTab===n},on:{click:function(e){return t.tabClick(n)}}},[t._v(t._s(n))])]}),e("li",{staticClass:"nav-item"},[e("div",{staticClass:"px-3 py-2"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.tonsLoaded,expression:"!tonsLoaded"}],staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}},[e("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])],2),e("section",{staticClass:"mb-5",attrs:{id:"tons"}},[e("nuxt-child")],1)],1)},[],!1,null,null,null).exports},props:{page:{type:Number,default:function(){return 1}},type:{type:String,default:function(){return"card"}}},data:function(){return{}},computed:{},watch:{},mounted:function(){},methods:{}},h=Object(d.a)(l,function(){var t=this.$createElement,n=this._self._c||t;return n("main",{staticClass:"container"},[n("h1",{staticClass:"display-3 mb-4"},[n("nuxt-link",{staticClass:"text-decoration-none",attrs:{to:"/shop"}},[this._v("Breed")])],1),n("Auction",{attrs:{page:this.page,type:this.type,name:"breed",contract:"AuctionSeed"}})],1)},[],!1,null,null,null);n.default=h.exports}}]);