(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{729:function(t,e,n){var content=n(732);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(109).default)("c449edf0",content,!0,{sourceMap:!1})},731:function(t,e,n){"use strict";var r=n(729);n.n(r).a},732:function(t,e,n){(t.exports=n(108)(!1)).push([t.i,'.card-wrap[data-v-26d37c15]{position:relative;width:50%}@media (min-width:576px){.card-wrap[data-v-26d37c15]{width:33.33333%}}@media (min-width:768px){.card-wrap[data-v-26d37c15]{width:25%}}@media (min-width:992px){.card-wrap[data-v-26d37c15]{width:20%}}@media (min-width:1200px){.card-wrap[data-v-26d37c15]{width:16.66667%}}@media (min-width:1440px){.card-wrap[data-v-26d37c15]{width:12.5%}}@media (min-width:1920px){.card-wrap[data-v-26d37c15]{width:10%}}@media (min-width:2560px){.card-wrap[data-v-26d37c15]{width:8.33333%}}.card-wrap[data-v-26d37c15]:before{content:"";display:block;padding-top:115%}.card-wrap .card[data-v-26d37c15]{position:absolute;top:0;left:0;bottom:0;right:0}',""])},735:function(t,e,n){"use strict";var r=n(0),o=n(144),c={name:"EntityCard",data:function(){return{}},computed:Object(r.a)({},Object(o.b)("tons",["currentTons"])),watch:{},mounted:function(){},methods:{}},d=(n(731),n(38)),component=Object(d.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-wrap"},[t._l(t.currentTons,function(e){return[n("div",{key:e.id,staticClass:"card-wrap"},[n("div",{staticClass:"card"},[n("div",{staticClass:"p-3 position-absolute"},[n("nuxt-link",{attrs:{to:"/ton/"+e.id}},[t._v(t._s(e.id))])],1),n("img",{staticClass:"w-100",attrs:{src:e.imgSrc}})])])]})],2)},[],!1,null,"26d37c15",null);e.a=component.exports},737:function(t,e,n){"use strict";var r=n(0),o=n(144),c={name:"EntityList",props:{fields:{type:Object,default:function(){return{thumb:{label:"",class:"p-0"},id:{label:"Id"},generation:{label:"Gen"},birthTime:{label:"BirthTime (JST)"},owner:{label:"Owner"}}}}},data:function(){return{}},computed:Object(r.a)({},Object(o.b)("tons",["currentTons","asyncTonsCache"])),mounted:function(){},methods:{}},d=n(38),component=Object(d.a)(c,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"overflow-auto"},[n("b-table",{attrs:{striped:"",hover:"",items:t.currentTons,fields:t.fields},scopedSlots:t._u([{key:"thumb",fn:function(data){return[n("img",{staticStyle:{height:"45px"},attrs:{src:data.item.imgSrc}})]}},{key:"id",fn:function(data){return[n("nuxt-link",{attrs:{to:"/ton/"+data.value}},[t._v(t._s(data.value))])]}},{key:"generation",fn:function(data){return[t.asyncTonsCache[data.item.id]?n("span",["0"===t.asyncTonsCache[data.item.id].generation?[n("span",[t._v(t._s(t.asyncTonsCache[data.item.id].generation))])]:[n("nuxt-link",{attrs:{to:"/tree/"+data.item.id}},[t._v(t._s(t.asyncTonsCache[data.item.id].generation))])]],2):t._e()]}},{key:"birthTime",fn:function(data){return[t.asyncTonsCache[data.item.id]?n("span",[n("span",[t._v(t._s(t.$unixtimeFormat(t.asyncTonsCache[data.item.id].birthTime)))])]):t._e()]}},{key:"owner",fn:function(data){return[t.asyncTonsCache[data.item.id]?n("span",[n("nuxt-link",{attrs:{to:"/ownership/"+t.asyncTonsCache[data.item.id].owner}},[t._v(t._s(t.asyncTonsCache[data.item.id].owner))])],1):t._e()]}}])})],1)},[],!1,null,"0e866196",null);e.a=component.exports},749:function(t,e,n){"use strict";n.r(e);n(82);var r=n(21),o=(n(8),n(737)),c=n(735),d={name:"Ownership",components:{EntityList:o.a,EntityCard:c.a},props:{address:{type:String,default:function(){return""}},type:{type:String,default:function(){return"card"}},page:{type:Number,default:function(){return 1}}},data:function(){return{perPage:50,currentPage:1,allTokensId:[],tokensId:[],currentTab:"Card",tabs:["Card","List"],partTons:[],tons:[],lastMod:"",inputAddress:"",fields:{thumb:{label:"",class:"p-0"},id:{label:"id"},generation:{label:"gen"},birthTime:{label:"birthTime"},breederId:{label:"breederId"},seederId:{label:"seederId"}}}},computed:{currentTabComponent:function(){return"Entity".concat(this.currentTab)},rows:function(){return this.allTokensId.length}},watch:{page:{handler:function(t){0!==this.rows&&(this.currentPage=t,this.calcTokensId())}},address:{handler:function(){this.getTokensId()}},type:{handler:function(t){this.currentTab="card"===t?"Card":"List"}},tokensId:{handler:function(){this.updatePartTons()}},partTons:{handler:function(){this.updateTons()}}},mounted:function(){var t=this;this.currentTab="card"===this.type?"Card":"List",this.getTokensId(),this.$nextTick(function(){t.currentPage=t.page})},methods:{getTokensId:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$axios.get("https://cryptoinkexplorer.blob.core.windows.net/api/v1/block.json").then(function(t){n.lastMod="Last Modified: ".concat(t.data.block)}),t.next=3,this.$axios.get("https://cryptoinkexplorer.blob.core.windows.net/api/v1/ownertotokens/".concat(this.address.toLowerCase(),".json"));case 3:e=t.sent,this.allTokensId=e.data.reverse(),this.$nextTick(function(){n.currentPage=n.page}),this.calcTokensId();case 7:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),calcTokensId:function(){var a=(this.page-1)*this.perPage,t=a+this.perPage;this.tokensId=this.allTokensId.slice(a,t)},updatePartTons:function(){var t=this;this.partTons=this.tokensId.map(function(e){return{id:e,tokenId:e,imgSrc:t.$tonImg(e),getEntity:t.$contracts.EntityCore.methods.getEntity(e).call(),ownerOf:t.$contracts.EntityCore.methods.ownerOf(e).call()}})},updateTons:function(){var t=this;this.tons=this.partTons.map(function(t){return{id:t.id,tokenId:t.tokenId,imgSrc:t.imgSrc}}),this.partTons.map(function(e,n){return e.ownerOf.then(function(r){if(t.tons[n]&&e.id===t.tons[n].id){var o=t.tons.slice();o[n].owner=r,t.tons=o}}),e.getEntity.then(function(r){if(t.tons[n]&&e.id===t.tons[n].id){var o=t.tons.slice();o[n].isBreeding=r.isBreeding,o[n].isReady=r.isReady,o[n].cooldownIndex=r.cooldownIndex,o[n].nextActionAt=r.nextActionAt,o[n].matingWithId=r.matingWithId,o[n].birthTime=r.birthTime,o[n].breederId=r.breederId,o[n].seederId=r.seederId,o[n].generation=r.generation,o[n].dna=t.$web3.utils.toHex(r.dna),t.tons=o}}),!0})},tabClick:function(t){this.currentTab=t,this.$store.dispatch("doUpdateType",t.toLowerCase()),this.$router.push({name:"ownership",params:{type:t.toLowerCase()}})},onPageChange:function(t){this.$router.push({name:"ownership",params:{page:t}})},goAddress:function(){this.$router.push({name:"ownership",params:{address:this.inputAddress}})}}},l=n(38),component=Object(l.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"container position-relative"},[n("div",{staticClass:"position-absolute",staticStyle:{top:"0",right:"0"}},[n("small",[t._v(t._s(t.lastMod))])]),n("h1",{staticClass:"display-3 mb-4"},[n("nuxt-link",{staticClass:"text-decoration-none",attrs:{to:"/ownership"}},[t._v("Ownership")])],1),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-sm-6"},[n("p",[n("strong",[t._v("Address Â ")]),n("span",[t._v(t._s(t.address))])])]),n("div",{staticClass:"col-12 col-sm-6"},[n("b-input-group",[n("b-form-input",{attrs:{name:"inputAddress",type:"text",placeholder:"Address"},model:{value:t.inputAddress,callback:function(e){t.inputAddress=e},expression:"inputAddress"}}),n("b-input-group-append",[n("b-button",{attrs:{text:"Go",variant:"primary"},on:{click:t.goAddress}},[t._v("Go")])],1)],1)],1)]),n("b-pagination",{attrs:{"aria-controls":"tons",limit:"10","total-rows":t.rows,"per-page":t.perPage},on:{change:t.onPageChange},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}),n("b-nav",{attrs:{tabs:""}},[t._l(t.tabs,function(e){return[n("b-nav-item",{attrs:{active:t.currentTab===e},on:{click:function(n){return t.tabClick(e)}}},[t._v(t._s(e))])]})],2),n("section",{attrs:{id:"tons"}},[n(t.currentTabComponent,{tag:"component",attrs:{tons:t.tons,fields:t.fields}})],1),n("b-pagination",{attrs:{"aria-controls":"tons",limit:"10","total-rows":t.rows,"per-page":t.perPage},on:{change:t.onPageChange},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)},[],!1,null,null,null);e.default=component.exports}}]);