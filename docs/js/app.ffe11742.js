(function(t){function e(e){for(var a,s,i=e[0],c=e[1],l=e[2],u=0,p=[];u<i.length;u++)s=i[u],r[s]&&p.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(a=!1)}a&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={app:0},o=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0ae9":function(t,e,n){"use strict";var a=n("bb33"),r=n.n(a);r.a},1:function(t,e){},"17e3":function(t,e,n){"use strict";var a=n("1d65"),r=n.n(a);r.a},"1d65":function(t,e,n){},2:function(t,e){},3:function(t,e){},4:function(t,e){},"4e2d":function(t,e,n){"use strict";(function(t){var e=n("2b0e"),a=n("e573"),r=n.n(a),o="https://mainnet.infura.io/v3/6d6832b8808346ab82226925aac5509d",s=new r.a.providers.HttpProvider(o);t.versions={node:"10.8.0"};var i=new r.a(s),c={Auction:{abi:[{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"getAuction",outputs:[{name:"seller",type:"address"},{name:"startingPrice",type:"uint256"},{name:"endingPrice",type:"uint256"},{name:"duration",type:"uint256"},{name:"startedAt",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"getCurrentPrice",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}]},EntityCore:{abi:[{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_tokenId",type:"uint256"}],name:"ownerOf",outputs:[{name:"owner",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_id",type:"uint256"}],name:"getEntity",outputs:[{name:"isBreeding",type:"bool"},{name:"isReady",type:"bool"},{name:"cooldownIndex",type:"uint256"},{name:"nextActionAt",type:"uint256"},{name:"matingWithId",type:"uint256"},{name:"birthTime",type:"uint256"},{name:"breederId",type:"uint256"},{name:"seederId",type:"uint256"},{name:"generation",type:"uint256"},{name:"dna",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}]}},l={},d="0x1a94fce7ef36bc90959e206ba569a12afbc91ca1",u="0xa2156f24711a631e92e65dc114cf172065ddd49b",p="0xcf20f1cc6efa9a05ae7eff8a0c6331f3680899cf";l.EntityCore=new i.eth.Contract(c.EntityCore.abi,d),l.AuctionSell=new i.eth.Contract(c.Auction.abi,u),l.AuctionSeed=new i.eth.Contract(c.Auction.abi,p),e["a"].prototype.$contracts=l,e["a"].prototype.$web3=i}).call(this,n("4362"))},"56d7":function(t,e,n){"use strict";n.r(e);n("744f"),n("6c7b"),n("7514"),n("20d6"),n("e956"),n("1c4c"),n("6762"),n("cadf"),n("e804"),n("55dd"),n("d04f"),n("c8ce"),n("217b"),n("7f7f"),n("f400"),n("7f25"),n("536b"),n("d9ab"),n("f9ab"),n("32d7"),n("25c9"),n("9f3c"),n("042e"),n("c7c6"),n("f4ff"),n("049f"),n("7872"),n("a69f"),n("0b21"),n("6c1a"),n("c7c62"),n("84b4"),n("c5f6"),n("2e37"),n("fca0"),n("7cdf"),n("ee1d"),n("b1b1"),n("87f3"),n("9278"),n("5df2"),n("04ff"),n("f751"),n("4504"),n("fee7"),n("ffc1"),n("0d6d"),n("9986"),n("8e6e"),n("25db"),n("e4f7"),n("b9a1"),n("64d5"),n("9aea"),n("06db"),n("db97"),n("66c8"),n("57f0"),n("165b"),n("456d"),n("cf6a"),n("fd24"),n("8615"),n("551c"),n("097d"),n("df1b"),n("2397"),n("88ca"),n("ba16"),n("d185"),n("ebde"),n("2d34"),n("f6b3"),n("2251"),n("c698"),n("a19f"),n("9253"),n("9275"),n("3b2b"),n("3846"),n("4917"),n("a481"),n("28a5"),n("386d"),n("6b54"),n("4f7f"),n("8a81"),n("ac4d"),n("8449"),n("9c86"),n("fa83"),n("48c0"),n("a032"),n("aef6"),n("d263"),n("6c37"),n("9ec8"),n("5695"),n("2fdb"),n("d0b0"),n("5df3"),n("b54a"),n("f5766"),n("ed50"),n("788d"),n("14b9"),n("f386"),n("f559"),n("1448"),n("673e"),n("242a"),n("23be"),n("7c0e"),n("c66f"),n("b05c"),n("34ef"),n("6aa2"),n("15ac"),n("af56"),n("b6e4"),n("9c29"),n("63d9"),n("4dda"),n("10ad"),n("c02b"),n("4795"),n("130f"),n("ac6a"),n("96cf");var a=n("2b0e"),r=n("bc3a"),o=n.n(r),s={},i=o.a.create(s);i.interceptors.request.use(function(t){return t},function(t){return Promise.reject(t)}),i.interceptors.response.use(function(t){return t},function(t){return Promise.reject(t)}),Plugin.install=function(t,e){t.axios=i,window.axios=i,Object.defineProperties(t.prototype,{axios:{get:function(){return i}},$axios:{get:function(){return i}}})},a["a"].use(Plugin);Plugin;var c=n("cb43");a["a"].use(c["default"]);var l=n("9f7b"),d=n.n(l);n("ab8b"),n("2dd8");a["a"].use(d.a);n("4e2d");var u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Header"),n("router-view")],1)},p=[],h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-navbar",{attrs:{toggleable:"md",type:"light",variant:"light"}},[n("b-navbar-brand",[n("router-link",{attrs:{to:"/"}},[t._v("Crypt-Oink-Explorer")])],1),n("b-navbar-toggle",{attrs:{target:"navbarSupportedContent"}}),n("b-collapse",{attrs:{id:"navbarSupportedContent","is-nav":""}},[n("b-navbar-nav",[n("b-nav-item",[n("router-link",{attrs:{to:t.toTons}},[t._v("All")])],1),n("b-nav-item",[n("router-link",{attrs:{to:"/ton"}},[t._v("Detail")])],1),n("b-nav-item",[n("router-link",{attrs:{to:t.toOwner}},[t._v("Ownership")])],1),n("b-nav-item-dropdown",{attrs:{text:"Other"}},[n("b-dropdown-item",[n("router-link",{attrs:{to:"/ranking"}},[t._v("Ranking")])],1),n("b-dropdown-item",[n("router-link",{attrs:{to:"/familytree"}},[t._v("Tree")])],1),n("b-dropdown-item",[n("router-link",{attrs:{to:t.toShop}},[t._v("Shop")])],1),n("b-dropdown-item",[n("router-link",{attrs:{to:t.toBreed}},[t._v("Breed")])],1)],1)],1)],1)],1)},m=[],f={name:"Header",computed:{toTons:function(){return"/tons/".concat(this.$store.state.type,"/1")},toShop:function(){return"/shop/".concat(this.$store.state.type,"/1")},toBreed:function(){return"/breed/".concat(this.$store.state.type,"/1")},toOwner:function(){return"/ownership/0xa2156f24711a631e92e65dc114cf172065ddd49b/".concat(this.$store.state.type,"/1")}}},g=f,v=n("2877"),b=Object(v["a"])(g,h,m,!1,null,"22b53138",null),y=b.exports,w={name:"home",components:{Header:y},created:function(){var t=this.$contracts.EntityCore.methods.totalSupply().call();this.$store.dispatch("doUpdateTotalSpply",t)}},_=w,k=Object(v["a"])(_,u,p,!1,null,null,null),C=k.exports,x=n("8c4f"),P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"jumbotron"},[n("h1",{staticClass:"display-4"},[t._v("Crypt-Oink-Explorer")]),t._m(0),n("b-button",{attrs:{variant:"primary",size:"lg",to:t.toTons}},[t._v("See Anyway")])],1),n("div",{staticClass:"container"},[n("div",{staticClass:"row mb-4"},[n("div",{staticClass:"col-sm-4"},[n("div",{staticClass:"card"},[n("img",{staticClass:"card-img-top",attrs:{src:"https://s3-ap-northeast-1.amazonaws.com/crypton-live/thumbnails/1_512x586.png"}}),n("div",{staticClass:"card-body"},[n("b-button",{attrs:{variant:"primary",to:"ton/1"}},[t._v("See more")])],1)])]),n("div",{staticClass:"col-sm-4 d-none d-sm-block"},[n("div",{staticClass:"card"},[n("img",{staticClass:"card-img-top",attrs:{src:"https://s3-ap-northeast-1.amazonaws.com/crypton-live/thumbnails/2_512x586.png"}}),n("div",{staticClass:"card-body"},[n("b-button",{attrs:{variant:"primary",to:"ton/2"}},[t._v("See more")])],1)])]),n("div",{staticClass:"col-sm-4 d-none d-sm-block"},[n("div",{staticClass:"card"},[n("img",{staticClass:"card-img-top",attrs:{src:"https://s3-ap-northeast-1.amazonaws.com/crypton-live/thumbnails/3_512x586.png"}}),n("div",{staticClass:"card-body"},[n("b-button",{attrs:{variant:"primary",to:"ton/3"}},[t._v("See more")])],1)])])]),t._m(1)])])},I=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"lead"},[t._v("Powered byÂ "),n("a",{attrs:{href:"https://www.crypt-oink.io/"}},[t._v("Crypt-Oink")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("a",{attrs:{href:"https://github.com/planethouki/crypton-explorer"}},[t._v("Github")])])}],T={name:"home",components:{},computed:{toTons:function(){return"/tons/".concat(this.$store.state.type,"/1")}}},S=T,A=Object(v["a"])(S,P,I,!1,null,null,null),$=A.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"container"},[n("h1",{staticClass:"display-3 mb-4"},[n("router-link",{staticClass:"text-decoration-none",attrs:{to:"/tons"}},[t._v("Tons")])],1),n("div",{staticClass:"form-inline float-sm-right"},[n("b-input-group",[n("b-form-input",{attrs:{name:"inputPage",type:"number",placeholder:"Page No."},model:{value:t.inputPage,callback:function(e){t.inputPage=e},expression:"inputPage"}}),n("b-input-group-append",[n("b-button",{attrs:{text:"Go",variant:"primary"},on:{click:t.goPage}},[t._v("Go")])],1)],1)],1),n("b-pagination",{attrs:{"aria-controls":"tons",limit:"10","total-rows":t.rows,"per-page":t.perPage},on:{change:t.onPageChange},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}),n("b-nav",{attrs:{tabs:""}},[t._l(t.tabs,function(e){return[n("b-nav-item",{attrs:{active:t.currentTab===e},on:{click:function(n){return t.tabClick(e)}}},[t._v(t._s(e))])]})],2),n("section",{attrs:{id:"tons"}},[n(t.currentTabComponent,{tag:"component",attrs:{tons:t.tons}})],1),n("b-pagination",{attrs:{"aria-controls":"tons",limit:"10","total-rows":t.rows,"per-page":t.perPage},on:{change:t.onPageChange},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)},O=[],N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"overflow-auto"},[n("b-table",{attrs:{striped:"",hover:"",items:t.tons,fields:t.fields},scopedSlots:t._u([{key:"thumb",fn:function(t){return[n("img",{staticStyle:{height:"45px"},attrs:{src:t.item.imgSrc}})]}},{key:"id",fn:function(e){return[e.value?n("router-link",{attrs:{to:{name:"ton",params:{tokenId:e.value}}}},[t._v(t._s(e.value))]):t._e()]}},{key:"seederId",fn:function(e){return[e.value&&"0"!==e.value?n("router-link",{attrs:{to:{name:"ton",params:{tokenId:e.value}}}},[t._v(t._s(e.value))]):t._e(),"0"===e.value?n("span",[t._v(t._s(e.value))]):t._e()]}},{key:"breederId",fn:function(e){return[e.value&&"0"!==e.value?n("router-link",{attrs:{to:{name:"ton",params:{tokenId:e.value}}}},[t._v(t._s(e.value))]):t._e(),"0"===e.value?n("span",[t._v(t._s(e.value))]):t._e()]}},{key:"generation",fn:function(e){return[e.value&&"0"!==e.value?n("router-link",{attrs:{to:{name:"tree",params:{tokenId:e.item.tokenId}}}},[t._v(t._s(e.item.generation))]):t._e(),"0"===e.value?n("span",[t._v(t._s(e.item.generation))]):t._e()]}},{key:"owner",fn:function(e){return[e.value?n("router-link",{attrs:{to:{name:"ownership",params:{address:e.value}}}},[t._v(t._s(e.value))]):t._e()]}}])})],1)},j=[],L={name:"EntityList",props:{tons:{type:Array,default:function(){return[]}},fields:{type:Object,default:function(){return{thumb:{label:"",class:"p-0"},id:{label:"id"},generation:{label:"gen"},birthTime:{label:"birthTime"},owner:{label:"owner"}}}}},data:function(){return{}},mounted:function(){},watch:{},methods:{}},B=L,M=Object(v["a"])(B,N,j,!1,null,"27d54579",null),D=M.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-wrap"},[t._l(t.tons,function(e){return[n("div",{key:e.id,staticClass:"card"},[n("div",{staticClass:"p-3 position-absolute"},[n("router-link",{attrs:{to:"/ton/"+e.tokenId}},[t._v(t._s(e.tokenId))])],1),n("img",{staticClass:"w-100",attrs:{src:e.imgSrc}})])]})],2)},W=[],G={name:"EntityCard",props:{tons:{type:Array,default:function(){return[]}}},data:function(){return{}},mounted:function(){},watch:{},methods:{}},H=G,U=(n("17e3"),Object(v["a"])(H,R,W,!1,null,"11f1c596",null)),z=U.exports,F={name:"tons",components:{EntityList:D,EntityCard:z},props:{page:{type:Number,default:function(){return 1}},type:{type:String,default:function(){return"card"}}},data:function(){return{perPage:50,currentPage:1,rows:0,tokensId:[],currentTab:"Card",tabs:["Card","List"],partTons:[],tons:[],inputPage:""}},computed:{currentTabComponent:function(){return"Entity".concat(this.currentTab)}},watch:{page:{handler:function(t){0!==this.rows&&(this.currentPage=t,this.calcTokensId())}},type:{handler:function(t){this.currentTab="card"===t?"Card":"List"}},tokensId:{handler:function(){this.updatePartTons()}},partTons:{handler:function(){this.updateTons()}}},mounted:function(){var t=this;this.currentTab="card"===this.type?"Card":"List",this.$store.state.totalSupply.then(function(e){t.rows=e,t.$nextTick(function(){t.currentPage=t.page,t.calcTokensId()})})},methods:{calcTokensId:function(){var t=this.rows-this.perPage*(this.currentPage-1);this.tokensId=[];for(var e=[],n=0;n<this.perPage;n+=1){if(t-n<1)break;e.push(t-n)}this.tokensId=e},updatePartTons:function(){var t=this;this.partTons=this.tokensId.map(function(e){return{id:e,tokenId:e,imgSrc:t.$tonImg(e),getEntity:t.$contracts.EntityCore.methods.getEntity(e).call(),ownerOf:t.$contracts.EntityCore.methods.ownerOf(e).call()}})},updateTons:function(){var t=this;this.tons=this.partTons.map(function(t){return{id:t.id,tokenId:t.tokenId,imgSrc:t.imgSrc}}),this.partTons.map(function(e,n){return e.ownerOf.then(function(a){if(e.id===t.tons[n].id){var r=t.tons.slice();r[n].owner=a,t.tons=r}}),e.getEntity.then(function(a){if(e.id===t.tons[n].id){var r=t.tons.slice();r[n].isBreeding=a.isBreeding,r[n].isReady=a.isReady,r[n].cooldownIndex=a.cooldownIndex,r[n].nextActionAt=a.nextActionAt,r[n].matingWithId=a.matingWithId,r[n].birthTime=a.birthTime,r[n].breederId=a.breederId,r[n].seederId=a.seederId,r[n].generation=a.generation,r[n].dna=t.$web3.utils.toHex(a.dna),t.tons=r}}),!0})},tabClick:function(t){this.currentTab=t,this.$store.dispatch("doUpdateType",t.toLowerCase()),this.$router.push({name:"tons",params:{type:t.toLowerCase()}})},onPageChange:function(t){this.$router.push({name:"tons",params:{page:t}})},goPage:function(){var t=Number(this.inputPage);this.$router.push({name:"tons",params:{page:t}})}}},q=F,J=Object(v["a"])(q,E,O,!1,null,null,null),V=J.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"container"},[n("h1",{staticClass:"display-3 mb-4"},[n("router-link",{staticClass:"text-decoration-none",attrs:{to:"/shop"}},[t._v("Shop")])],1),n("Auction",{attrs:{page:t.page,type:t.type,name:"shop",contract:"AuctionSell"}})],1)},Q=[],X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"form-inline float-sm-right"},[n("b-input-group",[n("b-form-input",{attrs:{name:"inputPage",type:"number",placeholder:"Page No."},model:{value:t.inputPage,callback:function(e){t.inputPage=e},expression:"inputPage"}}),n("b-input-group-append",[n("b-button",{attrs:{text:"Go",variant:"primary"},on:{click:t.goPage}},[t._v("Go")])],1)],1)],1),n("b-pagination",{attrs:{"aria-controls":"tons",limit:"10","total-rows":t.rows,"per-page":t.perPage},on:{change:t.onPageChange},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}),n("b-nav",{attrs:{tabs:""}},[t._l(t.tabs,function(e){return[n("b-nav-item",{attrs:{active:t.currentTab===e},on:{click:function(n){return t.tabClick(e)}}},[t._v(t._s(e))])]}),n("li",{staticClass:"nav-item"},[n("div",{staticClass:"px-3 py-2"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.tonsLoaded,expression:"!tonsLoaded"}],staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}},[n("span",{staticClass:"sr-only"},[t._v("Loading...")])])])])],2),n("section",{staticClass:"mb-5",attrs:{id:"tons"}},[n(t.currentTabComponent,{tag:"component",attrs:{tons:t.tons}})],1),n("b-pagination",{attrs:{"aria-controls":"tons",limit:"10","total-rows":t.rows,"per-page":t.perPage},on:{change:t.onPageChange},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)},Y=[],Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"overflow-auto"},[n("b-table",{attrs:{striped:"",hover:"",items:t.tons,fields:t.fields},scopedSlots:t._u([{key:"thumb",fn:function(t){return[n("img",{staticStyle:{height:"45px"},attrs:{src:t.item.imgSrc}})]}},{key:"id",fn:function(e){return[e.value?n("router-link",{attrs:{to:{name:"ton",params:{tokenId:e.value}}}},[t._v(t._s(e.value))]):t._e()]}},{key:"seller",fn:function(e){return[e.value?n("router-link",{attrs:{to:{name:"ownership",params:{address:e.value}}}},[t._v(t._s(e.value))]):t._e()]}}])})],1)},tt=[],et={name:"AuctionList",props:{tons:{type:Array,default:function(){return[]}},fields:{type:Object,default:function(){return{thumb:{label:"",class:"p-0"},id:{label:"Id"},price:{label:"Price"},seller:{label:"Seller"}}}}},data:function(){return{}},mounted:function(){},watch:{},methods:{}},nt=et,at=Object(v["a"])(nt,Z,tt,!1,null,"515bc7cd",null),rt=at.exports,ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-wrap"},[t._l(t.tons,function(e){return[e.shown?n("div",{key:e.id,staticClass:"card"},[n("div",{staticClass:"p-3 position-absolute"},[t._v(t._s(e.tokenId))]),n("img",{staticClass:"w-100",attrs:{src:e.imgSrc}})]):t._e()]})],2)},st=[],it={name:"AuctionCard",props:{tons:{type:Array,default:function(){return[]}}},data:function(){return{ton:{}}},mounted:function(){},watch:{},methods:{}},ct=it,lt=(n("0ae9"),Object(v["a"])(ct,ot,st,!1,null,"9dad4920",null)),dt=lt.exports,ut={name:"auction",components:{AuctionList:rt,AuctionCard:dt},props:{name:{type:String,default:function(){return""}},page:{type:Number,default:function(){return 1}},type:{type:String,default:function(){return"card"}},contract:{type:String,default:function(){return""}}},data:function(){return{perPage:50,currentPage:1,rows:0,tokensId:[],currentTab:"Card",tabs:["Card","List"],partTons:[],tons:[],tonsLoaded:!1,inputPage:""}},computed:{currentTabComponent:function(){return"Auction".concat(this.currentTab)}},watch:{page:{handler:function(t){0!==this.rows&&(this.currentPage=t,this.calcTokensId())}},type:{handler:function(t){this.currentTab="card"===t?"Card":"List"}},tokensId:{handler:function(){this.updatePartTons()}},partTons:{handler:function(){this.updateTons()}}},mounted:function(){var t=this;this.currentTab="card"===this.type?"Card":"List",this.$store.state.totalSupply.then(function(e){t.rows=e,t.$nextTick(function(){t.currentPage=t.page}),t.calcTokensId()})},methods:{calcTokensId:function(){var t=this.rows-this.perPage*(this.currentPage-1);this.tokensId=[];for(var e=[],n=0;n<this.perPage;n+=1){if(t-n<1)break;e.push(t-n)}this.tokensId=e},updatePartTons:function(){var t=this;this.partTons=this.tokensId.map(function(e){return{id:e,tokenId:e,imgSrc:t.$tonImg(e),getAuction:t.$contracts[t.contract].methods.getAuction(e).call(),getCurrentPrice:t.$contracts[t.contract].methods.getCurrentPrice(e).call()}})},updateTons:function(){var t=this;this.tonsLoaded=!1,this.tons=this.partTons.map(function(t){return{id:t.id,tokenId:t.tokenId,imgSrc:t.imgSrc}});var e=[];this.partTons.map(function(n,a){var r=n.getCurrentPrice.then(function(e){if(n.id===t.tons[a].id){var r=t.tons.slice();r[a].price=e,t.tons=r}}).catch(function(){if(console.log("not in auction",n.id),n.id===t.tons[a].id){var e=t.tons.slice();e[a].price="-"}}),o=n.getAuction.then(function(e){if(n.id===t.tons[a].id){var r=t.tons.slice();r[a].seller=e.seller,r[a].startingPrice=e.startingPrice,r[a].endingPrice=e.endingPrice,r[a].duration=e.duration,r[a].startedAt=e.startedAt,r[a].shown=!0,t.tons=r}}).catch(function(){if(console.log("not in auction",n.id),n.id===t.tons[a].id){var e=t.tons.slice();e[a].hidden=!0,e[a].seller="-"}});return e.push(r,o),Promise.all(e).then(function(){t.tonsLoaded=!0}),!0})},tabClick:function(t){this.currentTab=t,this.$store.dispatch("doUpdateType",t.toLowerCase()),this.$router.push({name:this.name,params:{type:t.toLowerCase()}})},onPageChange:function(t){this.$router.push({name:this.name,params:{page:t}})},goPage:function(){var t=Number(this.inputPage);this.$router.push({name:this.name,params:{page:t}})}}},pt=ut,ht=Object(v["a"])(pt,X,Y,!1,null,null,null),mt=ht.exports,ft={name:"shop",components:{Auction:mt},props:{page:{type:Number,default:function(){return 1}},type:{type:String,default:function(){return"card"}}},data:function(){return{}},computed:{},watch:{},mounted:function(){},methods:{}},gt=ft,vt=Object(v["a"])(gt,K,Q,!1,null,null,null),bt=vt.exports,yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"container"},[n("h1",{staticClass:"display-3 mb-4"},[n("router-link",{staticClass:"text-decoration-none",attrs:{to:"/shop"}},[t._v("Breed")])],1),n("Auction",{attrs:{page:t.page,type:t.type,name:"breed",contract:"AuctionSeed"}})],1)},wt=[],_t={name:"breed",components:{Auction:mt},props:{page:{type:Number,default:function(){return 1}},type:{type:String,default:function(){return"card"}}},data:function(){return{}},computed:{},watch:{},mounted:function(){},methods:{}},kt=_t,Ct=Object(v["a"])(kt,yt,wt,!1,null,null,null),xt=Ct.exports,Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"container"},[n("h1",{staticClass:"display-3 mb-4"},[n("router-link",{staticClass:"text-decoration-none",attrs:{to:"/ton/0"}},[t._v("Ton")])],1),n("section",{staticClass:"row"},[n("div",{staticClass:"col-12 col-sm-6 order-sm-2"},[n("SearchTokenId",{attrs:{routeName:"ton"}})],1),n("div",{staticClass:"col-12 col-sm-6 order-sm-1"},[n("b-pagination",{attrs:{"aria-controls":"tons",limit:"1","total-rows":t.rows,"per-page":t.perPage},on:{change:t.onPageChange},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)]),n("section",{attrs:{id:"ton"}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-lg-12 col-xl-6 text-center"},[n("img",{staticClass:"w-100",staticStyle:{"max-width":"512px"},attrs:{src:t.ton.imgSrc}})]),n("div",{staticClass:"col-lg-12 col-xl-6"},[n("h3",{staticClass:"mb-3"},[t._v("Entity")]),n("div",{staticClass:"row mb-5"},[t.ton.owner?n("div",{staticClass:"col-lg-12 col-xl-12"},[n("dl",[n("dt",[t._v("owner")]),n("dd",{staticClass:"text-break"},[n("router-link",{attrs:{to:{name:"ownership",params:{address:t.ton.owner,type:t.type,page:1}}}},[t._v(t._s(t.ton.owner))])],1)])]):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:t.ton.tokenId,expression:"ton.tokenId"}],staticClass:"col-lg-3 col-xl-6"},[n("dl",[n("dt",[t._v("tokenId")]),n("dd",[t._v(t._s(t.ton.tokenId))])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.ton.isBreeding,expression:"ton.isBreeding"}],staticClass:"col-lg-3 col-xl-6"},[n("dl",[n("dt",[t._v("isBreeding")]),n("dd",[t._v(t._s(t.ton.isBreeding))])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.ton.isReady,expression:"ton.isReady"}],staticClass:"col-lg-3 col-xl-6"},[n("dl",[n("dt",[t._v("isReady")]),n("dd",[t._v(t._s(t.ton.isReady))])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.ton.cooldownIndex,expression:"ton.cooldownIndex"}],staticClass:"col-lg-3 col-xl-6"},[n("dl",[n("dt",[t._v("cooldownIndex")]),n("dd",[t._v(t._s(t.ton.cooldownIndex))])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.ton.nextActionAt,expression:"ton.nextActionAt"}],staticClass:"col-lg-3 col-xl-6"},[n("dl",[n("dt",[t._v("nextActionAt")]),n("dd",[t._v(t._s(t.ton.nextActionAt))])])]),t.ton.matingWithId?n("div",{staticClass:"col-lg-3 col-xl-6"},[n("dl",[n("dt",[t._v("matingWithId")]),n("dd",{staticClass:"text-break"},["0"!==t.ton.matingWithId?n("router-link",{attrs:{to:{name:"ton",params:{tokenId:t.ton.matingWithId}}}},[t._v(t._s(t.ton.matingWithId))]):t._e(),"0"===t.ton.matingWithId?n("span",[t._v(t._s(t.ton.matingWithId))]):t._e()],1)])]):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:t.ton.birthTime,expression:"ton.birthTime"}],staticClass:"col-lg-3 col-xl-6"},[n("dl",[n("dt",[t._v("birthTime")]),n("dd",[t._v(t._s(t.ton.birthTime))])])]),t.ton.breederId?n("div",{staticClass:"col-lg-3 col-xl-6"},[n("dl",[n("dt",[t._v("breederId")]),n("dd",{staticClass:"text-break"},["0"!==t.ton.breederId?n("router-link",{attrs:{to:{name:"ton",params:{tokenId:t.ton.breederId}}}},[t._v(t._s(t.ton.breederId))]):t._e(),"0"===t.ton.breederId?n("span",[t._v(t._s(t.ton.breederId))]):t._e()],1)])]):t._e(),t.ton.seederId?n("div",{staticClass:"col-lg-3 col-xl-6"},[n("dl",[n("dt",[t._v("seederId")]),n("dd",{staticClass:"text-break"},["0"!==t.ton.seederId?n("router-link",{attrs:{to:{name:"ton",params:{tokenId:t.ton.seederId}}}},[t._v(t._s(t.ton.seederId))]):t._e(),"0"===t.ton.seederId?n("span",[t._v(t._s(t.ton.seederId))]):t._e()],1)])]):t._e(),t.ton.generation?n("div",{staticClass:"col-lg-3 col-xl-6"},[n("dl",[n("dt",[t._v("generation")]),n("dd",{staticClass:"text-break"},["0"!==t.ton.generation?n("router-link",{attrs:{to:{name:"tree",params:{address:t.ton.generation}}}},[t._v(t._s(t.ton.generation))]):t._e(),"0"===t.ton.generation?n("span",[t._v(t._s(t.ton.generation))]):t._e()],1)])]):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:t.ton.dna,expression:"ton.dna"}],staticClass:"col-lg-12 col-xl-12"},[n("dl",[n("dt",[t._v("dna")]),n("dd",{staticClass:"text-break"},[t._v(t._s(t.ton.dna))])])])]),n("h3",{staticClass:"mb-3"},[t._v("Auction Sell")]),n("span",{directives:[{name:"show",rawName:"v-show",value:!t.ton.sellPrice,expression:"!ton.sellPrice"}]},[t._v("None")]),n("div",{staticClass:"row mb-5"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.ton.sellPrice,expression:"ton.sellPrice"}],staticClass:"col-lg-12 col-xl-12"},[n("dl",[n("dt",[t._v("sellPrice")]),n("dd",{staticClass:"text-break"},[t._v(t._s(t.ton.sellPrice))])])]),t.ton.sellSeller?n("div",{staticClass:"col-lg-12 col-xl-12"},[n("dl",[n("dt",[t._v("sellSeller")]),n("dd",{staticClass:"text-break"},[n("router-link",{attrs:{to:{name:"ownership",params:{address:t.ton.sellSeller,type:t.type,page:1}}}},[t._v(t._s(t.ton.sellSeller))])],1)])]):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:t.ton.sellSstartingPrice,expression:"ton.sellSstartingPrice"}],staticClass:"col-lg-3 col-xl-6"},[n("dl",[n("dt",[t._v("sellSstartingPrice")]),n("dd",[t._v(t._s(t.ton.sellSstartingPrice))])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.ton.sellEndingPrice,expression:"ton.sellEndingPrice"}],staticClass:"col-lg-3 col-xl-6"},[n("dl",[n("dt",[t._v("sellEndingPrice")]),n("dd",[t._v(t._s(t.ton.sellEndingPrice))])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.ton.sellDuration,expression:"ton.sellDuration"}],staticClass:"col-lg-3 col-xl-6"},[n("dl",[n("dt",[t._v("sellDuration")]),n("dd",[t._v(t._s(t.ton.sellDuration))])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.ton.sellStartedAt,expression:"ton.sellStartedAt"}],staticClass:"col-lg-3 col-xl-6"},[n("dl",[n("dt",[t._v("sellStartedAt")]),n("dd",[t._v(t._s(t.ton.sellStartedAt))])])])]),n("h3",{staticClass:"mb-3"},[t._v("Auction Seed")]),n("span",{directives:[{name:"show",rawName:"v-show",value:!t.ton.seedPrice,expression:"!ton.seedPrice"}]},[t._v("None")]),n("div",{staticClass:"row mb-5"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.ton.seedPrice,expression:"ton.seedPrice"}],staticClass:"col-lg-12 col-xl-12"},[n("dl",[n("dt",[t._v("seedPrice")]),n("dd",{staticClass:"text-break"},[t._v(t._s(t.ton.seedPrice))])])]),t.ton.seedSeller?n("div",{staticClass:"col-lg-12 col-xl-12"},[n("dl",[n("dt",[t._v("seedSeller")]),n("dd",{staticClass:"text-break"},[n("router-link",{attrs:{to:{name:"ownership",params:{address:t.ton.seedSeller,type:t.type,page:1}}}},[t._v(t._s(t.ton.seedSeller))])],1)])]):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:t.ton.seedSstartingPrice,expression:"ton.seedSstartingPrice"}],staticClass:"col-lg-3 col-xl-6"},[n("dl",[n("dt",[t._v("seedSstartingPrice")]),n("dd",[t._v(t._s(t.ton.seedSstartingPrice))])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.ton.seedEndingPrice,expression:"ton.seedEndingPrice"}],staticClass:"col-lg-3 col-xl-6"},[n("dl",[n("dt",[t._v("seedEndingPrice")]),n("dd",[t._v(t._s(t.ton.seedEndingPrice))])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.ton.seedDuration,expression:"ton.seedDuration"}],staticClass:"col-lg-3 col-xl-6"},[n("dl",[n("dt",[t._v("seedDuration")]),n("dd",[t._v(t._s(t.ton.seedDuration))])])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.ton.seedStartedAt,expression:"ton.seedStartedAt"}],staticClass:"col-lg-3 col-xl-6"},[n("dl",[n("dt",[t._v("seedStartedAt")]),n("dd",[t._v(t._s(t.ton.seedStartedAt))])])])])])])])])},It=[],Tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-input-group",[n("b-form-input",{attrs:{name:"inputTokenId",type:"number",placeholder:"ID"},model:{value:t.inputTokenId,callback:function(e){t.inputTokenId=e},expression:"inputTokenId"}}),n("b-input-group-append",[n("b-button",{attrs:{text:"Go",variant:"primary"},on:{click:t.goTokenId}},[t._v("Go")])],1)],1)},St=[],At={name:"SearchTokenId",props:{routeName:{type:String,default:function(){return""}},input:{type:String,default:function(){return""}}},data:function(){return{inputTokenId:""}},mounted:function(){},watch:{input:{handler:function(t){this.inputTokenId=t}}},methods:{goTokenId:function(){var t=Number(this.inputTokenId);this.$router.push({name:this.routeName,params:{tokenId:t}})}}},$t=At,Et=Object(v["a"])($t,Tt,St,!1,null,"3fddc75a",null),Ot=Et.exports,Nt={name:"ton",components:{SearchTokenId:Ot},props:{tokenId:{type:Number,default:function(){return 0}}},data:function(){return{currentPage:1,perPage:1,rows:0,partTon:{},ton:{},tonField:["tokenId"]}},computed:{type:function(){return this.$store.state.type}},watch:{tokenId:{handler:function(){var t=this;this.updatePartTon(),this.$nextTick(function(){t.updatePartTon()})}},partTon:{handler:function(){this.updateTon()}}},mounted:function(){var t=this;this.$store.state.totalSupply.then(function(e){t.rows=e,t.$nextTick(function(){t.updatePartTon()})})},methods:{updatePartTon:function(){if(0!==this.rows){var t=0===this.tokenId?this.rows:this.tokenId;this.currentPage=t,this.partTon={id:t,tokenId:t,imgSrc:this.$tonImg(t),getEntity:this.$contracts.EntityCore.methods.getEntity(t).call(),ownerOf:this.$contracts.EntityCore.methods.ownerOf(t).call(),getAuctionSell:this.$contracts.AuctionSell.methods.getAuction(t).call(),getCurrentPriceSell:this.$contracts.AuctionSell.methods.getCurrentPrice(t).call(),getAuctionSeed:this.$contracts.AuctionSeed.methods.getAuction(t).call(),getCurrentPriceSeed:this.$contracts.AuctionSeed.methods.getCurrentPrice(t).call()}}},updateTon:function(){var t=this;0!==Object.keys(this.partTon).length&&(this.ton={id:this.partTon.id,tokenId:this.partTon.tokenId,imgSrc:this.partTon.imgSrc},this.partTon.ownerOf.then(function(e){if(t.partTon.id===t.ton.id){var n=Object.assign({},t.ton);n.owner=e,t.ton=n}}),this.partTon.getEntity.then(function(e){if(t.partTon.id===t.ton.id){var n=Object.assign({},t.ton);n.isBreeding=e.isBreeding,n.isReady=e.isReady,n.cooldownIndex=e.cooldownIndex,n.nextActionAt=e.nextActionAt,n.matingWithId=e.matingWithId,n.birthTime=e.birthTime,n.breederId=e.breederId,n.seederId=e.seederId,n.generation=e.generation,n.dna=t.$web3.utils.toHex(e.dna),t.ton=n}}),this.partTon.getCurrentPriceSell.then(function(e){if(t.partTon.id===t.ton.id){var n=Object.assign({},t.ton);n.sellPrice=e,t.ton=n}}).catch(function(e){console.log("not in auction sell",t.partTon.id,":",e)}),this.partTon.getAuctionSell.then(function(e){if(t.partTon.id===t.ton.id){var n=Object.assign({},t.ton);n.sellSeller=e.seller,n.sellSstartingPrice=e.startingPrice,n.sellEndingPrice=e.endingPrice,n.sellDuration=e.duration,n.sellStartedAt=e.startedAt,t.ton=n}}).catch(function(e){console.log("not in auction sell",t.partTon.id,":",e)}),this.partTon.getCurrentPriceSeed.then(function(e){if(t.partTon.id===t.ton.id){var n=Object.assign({},t.ton);n.seedPrice=e,t.ton=n}}).catch(function(e){console.log("not in auction seed",t.partTon.id,":",e)}),this.partTon.getAuctionSeed.then(function(e){if(t.partTon.id===t.ton.id){var n=Object.assign({},t.ton);n.seedSeller=e.seller,n.seedSstartingPrice=e.startingPrice,n.seedEndingPrice=e.endingPrice,n.seedDuration=e.duration,n.seedStartedAt=e.startedAt,t.ton=n}}).catch(function(e){console.log("not in auction seed",t.partTon.id,":",e)}))},onPageChange:function(t){this.$router.push({name:"ton",params:{tokenId:t}})}}},jt=Nt,Lt=Object(v["a"])(jt,Pt,It,!1,null,null,null),Bt=Lt.exports,Mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",[n("section",{staticClass:"container"},[n("h1",{staticClass:"display-3 mb-4"},[n("router-link",{staticClass:"text-decoration-none",attrs:{to:"/familytree/0"}},[t._v("Family Tree")])],1),n("section",{staticClass:"row"},[n("div",{staticClass:"col-12 col-sm-6 offset-sm-6"},[n("SearchTokenId",{attrs:{routeName:"tree",input:t.inputTokenId}})],1)]),n("section",[n("p",[t._v(t._s(t.progressText))])])]),n("section",{staticClass:"container-fulid",attrs:{id:"chart"}},[n("GChart",{attrs:{id:"family-tree-chart",settings:{packages:["orgchart"]},events:t.chartEvents,options:t.chartOptions,data:t.chartData,type:"OrgChart"},on:{ready:t.onChartReady}})],1)])},Dt=[],Rt=n("a34a"),Wt=n.n(Rt),Gt=n("5889"),Ht=n.n(Gt);function Ut(t,e,n,a,r,o,s){try{var i=t[o](s),c=i.value}catch(l){return void n(l)}i.done?e(c):Promise.resolve(c).then(a,r)}function zt(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var o=t.apply(e,n);function s(t){Ut(o,a,r,s,i,"next",t)}function i(t){Ut(o,a,r,s,i,"throw",t)}s(void 0)})}}var Ft={name:"tree",components:{SearchTokenId:Ot,GChart:c["GChart"]},props:{tokenId:{type:Number,default:function(){return 0}}},data:function(){var t=this;return{inputTokenId:"",progressText:"",chartData:null,chartEvents:{select:function(){if(null!==t.chartData){var e=t.chart.getSelection();if(e){var n=e[0].row,a=t.chartData.getValue(n,0).split("-")[1];t.inputTokenId=a}}}},chartOptions:{allowHtml:!0,nodeClass:"myNodeClass",selectedNodeClass:"mySelectedNodeClass"},chart:null,google:null,scrollBooster:null}},computed:{},watch:{tokenId:{handler:function(t,e){0===t&&0===e||this.reDrawChart()}}},mounted:function(){},methods:{getEntityFromTokenId:function(){var t=zt(Wt.a.mark(function t(e){var n;return Wt.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$contracts.EntityCore.methods.getEntity(e).call();case 2:return n=t.sent,t.abrupt("return",{id:Number(e),tokenId:Number(e),breederId:Number(n.breederId),seederId:Number(n.seederId),generation:Number(n.generation)});case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),onChartReady:function(t,e){t.clearChart=function(){console.log("clear chart")},this.chart=t,this.google=e,this.reDrawChart()},reDrawChart:function(){var t=zt(Wt.a.mark(function t(){var e,n,a,r,o,s,i,c=this;return Wt.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.clearScrollBooster(),e=function(){return Math.floor(Math.random()*Math.floor(1e4)).toString()},n=function(t){return'<div><div class="token-title">'.concat(t,'</div><img src="').concat(c.$tonImg(t),'" class="token-image"></div>')},console.log("drawing start"),a=new this.google.visualization.DataTable,a.addColumn("string","Name"),a.addColumn("string","Manager"),a.addColumn("string","ToolTip"),t.next=10,this.$store.state.totalSupply;case 10:return r=t.sent,o=0===this.tokenId?r:this.tokenId,this.progressText="drawing ".concat(o,"..."),s=0,i=function(){var t=zt(Wt.a.mark(function t(r,o,l){var d,u,p;return Wt.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return c.progressText="getting ".concat(r,"..."),d=e(),u=e(),t.next=5,c.getEntityFromTokenId(r);case 5:if(p=t.sent,0===p.generation){t.next=17;break}if(a.addRows([[{v:"".concat(d,"-").concat(p.breederId),f:n(p.breederId)},"".concat(l,"-").concat(p.tokenId),"#".concat(p.breederId)],[{v:"".concat(u,"-").concat(p.seederId),f:n(p.seederId)},"".concat(l,"-").concat(p.tokenId),"#".concat(p.seederId)]]),c.chart.draw(a,c.chartOptions),!(o<4)){t.next=14;break}return t.next=12,i(p.breederId,o+1,d);case 12:return t.next=14,i(p.seederId,o+1,u);case 14:s<o+1&&(s=o+1),t.next=18;break;case 17:s<o&&(s=o);case 18:case"end":return t.stop()}},t)}));return function(e,n,a){return t.apply(this,arguments)}}(),a.addRows([[{v:"0-".concat(o),f:n(o)},"","#".concat(o)]]),this.chart.draw(a,this.chartOptions),t.next=19,i(o,1,"0");case 19:this.progressText="",this.chartData=a,this.updateScrollBooster();case 22:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),clearScrollBooster:function(){null!==this.scrollBooster&&this.scrollBooster.destroy()},updateScrollBooster:function(){var t=document.querySelector("#chart"),e=t.querySelector("#family-tree-chart");this.scrollBooster=new Ht.a({viewport:t,content:e,mode:"x",onUpdate:function(e){t.scrollLeft=e.position.x}})}}},qt=Ft,Jt=(n("ff31"),Object(v["a"])(qt,Mt,Dt,!1,null,"228775c3",null)),Vt=Jt.exports,Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"container"},[n("h1",{staticClass:"display-3 mb-4"},[n("router-link",{staticClass:"text-decoration-none",attrs:{to:"/ranking/1"}},[t._v("Ranking")])],1),n("p",{staticClass:"text-right"},[n("small",[t._v(t._s(t.lastMod))])]),n("b-pagination",{attrs:{"aria-controls":"rk-table","total-rows":t.rows,"per-page":t.perPage},on:{change:t.onPageChange},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}),n("div",{staticClass:"overflow-auto"},[n("b-table",{attrs:{id:"rk-table",striped:"",hover:"","per-page":t.perPage,"current-page":t.tableCurrentPage,items:t.items,fields:t.fields},scopedSlots:t._u([{key:"owner",fn:function(e){return[n("router-link",{attrs:{to:{name:"ownership",params:{address:e.value,type:t.type,page:1}}}},[t._v(t._s(e.value))])]}},{key:"count",fn:function(e){return[n("div",{staticClass:"d-flex align-items-center"},[n("div",{staticClass:"d-flex mr-3"},[t._v(t._s(e.item.count))]),n("div",{staticClass:"progress flex-fill"},[n("div",{staticClass:"progress-bar",style:"width: "+e.item.bar+"%;",attrs:{role:"progressbar","aria-valuenow":e.item.bar,"aria-valuemin":"0","aria-valuemax":"100"}})])])]}}])})],1)],1)},Qt=[];function Xt(t,e,n,a,r,o,s){try{var i=t[o](s),c=i.value}catch(l){return void n(l)}i.done?e(c):Promise.resolve(c).then(a,r)}function Yt(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var o=t.apply(e,n);function s(t){Xt(o,a,r,s,i,"next",t)}function i(t){Xt(o,a,r,s,i,"throw",t)}s(void 0)})}}var Zt={name:"ranking",components:{},props:{page:{type:Number,default:function(){return 1}}},data:function(){return{currentPage:1,tableCurrentPage:1,perPage:100,items:[],fields:{order:{label:"Order"},owner:{label:"Owner"},count:{label:"Balance"}},lastMod:""}},computed:{rows:function(){return this.items.length},type:function(){return this.$store.state.type}},watch:{page:{handler:function(t){this.currentPage=t,this.tableCurrentPage=t}}},mounted:function(){this.init()},methods:{init:function(){var t=Yt(Wt.a.mark(function t(){var e,n=this;return Wt.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.$axios.get("https://cryptoinkexplorer.blob.core.windows.net/api/v1/block.json").then(function(t){n.lastMod="Last Modified: ".concat(t.data.block)}),t.next=3,this.$axios.get("https://cryptoinkexplorer.blob.core.windows.net/api/v1/ownerRanking.json");case 3:e=t.sent,this.items=e.data.map(function(t,e,n){return{order:t.order,owner:t.owner,count:t.count,bar:Math.floor(t.count/n[0].count*100)}}),this.$nextTick(function(){n.currentPage=n.page,n.tableCurrentPage=n.page});case 6:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onPageChange:function(t){this.$router.push({name:"ranking",params:{page:t}})}}},te=Zt,ee=Object(v["a"])(te,Kt,Qt,!1,null,null,null),ne=ee.exports,ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"container position-relative"},[n("div",{staticClass:"position-absolute",staticStyle:{top:"0",right:"0"}},[n("small",[t._v(t._s(t.lastMod))])]),n("h1",{staticClass:"display-3 mb-4"},[n("router-link",{staticClass:"text-decoration-none",attrs:{to:"/ownership"}},[t._v("Ownership")])],1),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-sm-6"},[n("p",[n("strong",[t._v("Address Â ")]),n("span",[t._v(t._s(t.address))])])]),n("div",{staticClass:"col-12 col-sm-6"},[n("b-input-group",[n("b-form-input",{attrs:{name:"inputAddress",type:"text",placeholder:"Address"},model:{value:t.inputAddress,callback:function(e){t.inputAddress=e},expression:"inputAddress"}}),n("b-input-group-append",[n("b-button",{attrs:{text:"Go",variant:"primary"},on:{click:t.goAddress}},[t._v("Go")])],1)],1)],1)]),n("b-pagination",{attrs:{"aria-controls":"tons",limit:"10","total-rows":t.rows,"per-page":t.perPage},on:{change:t.onPageChange},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}),n("b-nav",{attrs:{tabs:""}},[t._l(t.tabs,function(e){return[n("b-nav-item",{attrs:{active:t.currentTab===e},on:{click:function(n){return t.tabClick(e)}}},[t._v(t._s(e))])]})],2),n("section",{attrs:{id:"tons"}},[n(t.currentTabComponent,{tag:"component",attrs:{tons:t.tons,fields:t.fields}})],1),n("b-pagination",{attrs:{"aria-controls":"tons",limit:"10","total-rows":t.rows,"per-page":t.perPage},on:{change:t.onPageChange},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)},re=[];function oe(t,e,n,a,r,o,s){try{var i=t[o](s),c=i.value}catch(l){return void n(l)}i.done?e(c):Promise.resolve(c).then(a,r)}function se(t){return function(){var e=this,n=arguments;return new Promise(function(a,r){var o=t.apply(e,n);function s(t){oe(o,a,r,s,i,"next",t)}function i(t){oe(o,a,r,s,i,"throw",t)}s(void 0)})}}var ie={name:"ownership",components:{EntityList:D,EntityCard:z},props:{address:{type:String,default:function(){return""}},type:{type:String,default:function(){return"card"}},page:{type:Number,default:function(){return 1}}},data:function(){return{perPage:50,currentPage:1,allTokensId:[],tokensId:[],currentTab:"Card",tabs:["Card","List"],partTons:[],tons:[],lastMod:"",inputAddress:"",fields:{thumb:{label:"",class:"p-0"},id:{label:"id"},generation:{label:"gen"},birthTime:{label:"birthTime"},breederId:{label:"breederId"},seederId:{label:"seederId"}}}},computed:{currentTabComponent:function(){return"Entity".concat(this.currentTab)},rows:function(){return this.allTokensId.length}},watch:{page:{handler:function(t){0!==this.rows&&(this.currentPage=t,this.calcTokensId())}},address:{handler:function(){this.getTokensId()}},type:{handler:function(t){this.currentTab="card"===t?"Card":"List"}},tokensId:{handler:function(){this.updatePartTons()}},partTons:{handler:function(){this.updateTons()}}},mounted:function(){var t=this;this.currentTab="card"===this.type?"Card":"List",this.getTokensId(),this.$nextTick(function(){t.currentPage=t.page})},methods:{getTokensId:function(){var t=se(Wt.a.mark(function t(){var e,n=this;return Wt.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.$axios.get("https://cryptoinkexplorer.blob.core.windows.net/api/v1/block.json").then(function(t){n.lastMod="Last Modified: ".concat(t.data.block)}),t.next=3,this.$axios.get("https://cryptoinkexplorer.blob.core.windows.net/api/v1/ownertotokens/".concat(this.address.toLowerCase(),".json"));case 3:e=t.sent,this.allTokensId=e.data.reverse(),this.$nextTick(function(){n.currentPage=n.page}),this.calcTokensId();case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),calcTokensId:function(){var t=(this.page-1)*this.perPage,e=t+this.perPage;this.tokensId=this.allTokensId.slice(t,e)},updatePartTons:function(){var t=this;this.partTons=this.tokensId.map(function(e){return{id:e,tokenId:e,imgSrc:t.$tonImg(e),getEntity:t.$contracts.EntityCore.methods.getEntity(e).call(),ownerOf:t.$contracts.EntityCore.methods.ownerOf(e).call()}})},updateTons:function(){var t=this;this.tons=this.partTons.map(function(t){return{id:t.id,tokenId:t.tokenId,imgSrc:t.imgSrc}}),this.partTons.map(function(e,n){return e.ownerOf.then(function(a){if(t.tons[n]&&e.id===t.tons[n].id){var r=t.tons.slice();r[n].owner=a,t.tons=r}}),e.getEntity.then(function(a){if(t.tons[n]&&e.id===t.tons[n].id){var r=t.tons.slice();r[n].isBreeding=a.isBreeding,r[n].isReady=a.isReady,r[n].cooldownIndex=a.cooldownIndex,r[n].nextActionAt=a.nextActionAt,r[n].matingWithId=a.matingWithId,r[n].birthTime=a.birthTime,r[n].breederId=a.breederId,r[n].seederId=a.seederId,r[n].generation=a.generation,r[n].dna=t.$web3.utils.toHex(a.dna),t.tons=r}}),!0})},tabClick:function(t){this.currentTab=t,this.$store.dispatch("doUpdateType",t.toLowerCase()),this.$router.push({name:"ownership",params:{type:t.toLowerCase()}})},onPageChange:function(t){this.$router.push({name:"ownership",params:{page:t}})},goAddress:function(){this.$router.push({name:"ownership",params:{address:this.inputAddress}})}}},ce=ie,le=Object(v["a"])(ce,ae,re,!1,null,null,null),de=le.exports;a["a"].use(x["a"]);var ue=new x["a"]({routes:[{path:"/",name:"home",component:$},{path:"/tons",redirect:"/tons/card/1"},{path:"/tons/:type/:page",name:"tons",component:V,props:function(t){return{page:Number(t.params.page),type:t.params.type}}},{path:"/breed",redirect:"/breed/card/1"},{path:"/breed/:type/:page",name:"breed",component:xt,props:function(t){return{page:Number(t.params.page),type:t.params.type}}},{path:"/shop",redirect:"/shop/card/1"},{path:"/shop/:type/:page",name:"shop",component:bt,props:function(t){return{page:Number(t.params.page),type:t.params.type}}},{path:"/ton",redirect:"/ton/0"},{path:"/ton/:tokenId",name:"ton",component:Bt,props:function(t){return{tokenId:Number(t.params.tokenId)}}},{path:"/familytree",redirect:"/familytree/0"},{path:"/familytree/:tokenId",name:"tree",component:Vt,props:function(t){return{tokenId:Number(t.params.tokenId)}}},{path:"/ranking",redirect:"/ranking/1"},{path:"/ranking/:page",name:"ranking",component:ne,props:function(t){return{page:Number(t.params.page)}}},{path:"/ownership",redirect:"/ownership/0xa2156f24711a631e92e65dc114cf172065ddd49b/card/1"},{path:"/ownership/:address/:type/:page",name:"ownership",component:de,props:function(t){return{page:Number(t.params.page),type:t.params.type,address:t.params.address}}}]}),pe=n("2f62");a["a"].use(pe["a"]);var he=new pe["a"].Store({state:{totalSupply:0,type:"card"},mutations:{setTotalSupply:function(t,e){t.totalSupply=e.totalSupply},setType:function(t,e){t.type=e.type}},actions:{doUpdateTotalSpply:function(t,e){var n=t.commit;n("setTotalSupply",{totalSupply:e})},doUpdateType:function(t,e){var n=t.commit;n("setType",{type:e})}}}),me=n("9483");Object(me["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),a["a"].config.productionTip=!1,a["a"].prototype.$tonImg=function(t){return"https://s3-ap-northeast-1.amazonaws.com/crypton-live/thumbnails/".concat(t,"_512x586.png")},new a["a"]({router:ue,store:he,render:function(t){return t(C)}}).$mount("#app")},"88b6":function(t,e,n){},bb33:function(t,e,n){},ff31:function(t,e,n){"use strict";var a=n("88b6"),r=n.n(a);r.a}});
//# sourceMappingURL=app.ffe11742.js.map